# 用户反馈和联系管理员功能使用指南

## 目录
1. [用户端功能](#用户端功能)
2. [管理员端功能](#管理员端功能)
3. [常见问题](#常见问题)

---

## 用户端功能

### 如何提交问题反馈

1. **访问反馈页面**
   - 登录系统后，点击页面上的"问题反馈"或"联系我们"链接
   - 或直接访问：`/Home/Feedback`

2. **填写反馈表单**
   - **反馈类型**（必选）：选择以下之一
     - 问题反馈：报告系统问题或错误
     - 功能建议：提出新功能建议
     - 投诉举报：投诉服务或举报违规
     - 其他：其他类型的反馈
   
   - **反馈主题**（必填）：简要描述问题，最多100字
   
   - **详细描述**（必填）：详细说明问题或建议，10-1000字
   
   - **联系邮箱**（可选）：如需回复，请留下邮箱

3. **提交反馈**
   - 点击"提交反馈"按钮
   - 系统会显示"反馈提交成功"提示
   - 您的反馈将立即保存到数据库，状态为"反馈中"

4. **后续跟进**
   - 管理员会查看您的反馈
   - 处理完成后会更新状态为"已完成"
   - 如果您留了邮箱，可能会收到回复

### 如何联系管理员（在线客服）

1. **进入聊天页面**
   - 点击"联系我们"按钮
   - 或在反馈页面底部点击"联系我们"链接
   - 直接访问：`/Home/ContactAdmin`

2. **开始对话**
   - 页面自动打开后会显示欢迎消息：
     ```
     ℹ️ 您好，这里是在线客服
     ```
   - 这条消息居中显示，表示系统已准备好

3. **发送消息**
   - 在底部输入框中输入您的问题或需求
   - 点击"发送"按钮或按Enter键发送
   - 您的消息会立即显示在右侧（蓝紫色气泡）

4. **等待管理员回复**
   - 管理员回复会显示在左侧（白色气泡）
   - 每条消息都显示发送者和时间

5. **查看历史对话**
   - 点击左侧"查看历史对话"按钮
   - 可以查看之前的对话记录

6. **结束对话**
   - 问题解决后，点击"结束对话"按钮
   - 确认后对话将被标记为已结束
   - 您仍然可以查看历史记录

---

## 管理员端功能

### 反馈管理

1. **访问反馈管理页面**
   - 登录管理员账号
   - 从管理菜单选择"反馈管理"
   - 或访问：`/Staff/FeedbackManagement`

2. **查看反馈列表**
   - 页面显示所有用户反馈
   - 每条反馈显示：
     - 反馈ID
     - 用户名
     - 反馈类型（彩色标签）
     - 主题
     - 状态（反馈中/已完成）
     - 提交时间
     - 操作按钮

3. **筛选和搜索**
   - **按类型筛选**：选择反馈类型
   - **按状态筛选**：
     - 全部状态
     - 反馈中
     - 已完成
   - **关键词搜索**：输入用户名或主题关键词
   - 点击"搜索"按钮应用筛选

4. **查看反馈详情**
   - 点击"查看"按钮
   - 弹出详情窗口显示：
     - 用户信息
     - 完整的反馈内容
     - 联系邮箱（如有）
     - 当前状态
     - 提交时间

5. **处理和回复反馈**
   - 点击"回复"按钮
   - 在弹出窗口中：
     - **选择状态**：
       - **反馈中**：表示正在处理
       - **已完成**：表示已处理完成
     - **输入回复**：可选，给用户的回复内容
   - 点击"提交回复"保存
   - 系统会自动记录更新时间

6. **状态说明**
   - **反馈中**（蓝色标签）：
     - 用户刚提交的反馈默认状态
     - 表示反馈正在处理中
     - 管理员可以查看和回复
   
   - **已完成**（绿色标签）：
     - 管理员处理完成后设置
     - 表示问题已解决或建议已采纳
     - 反馈流程结束

### 用户联系管理

1. **访问用户联系管理页面**
   - 从反馈管理页面点击"联系用户"
   - 或访问：`/Staff/UserContactManagement`

2. **查看用户会话列表**
   - 左侧显示所有联系过的用户
   - 每个会话显示：
     - 对话编号
     - 用户名
     - 开始时间
     - 状态标签（进行中/已结束）

3. **筛选会话**
   - **全部**：显示所有会话
   - **进行中**：只显示活跃对话
   - **已结束**：只显示已结束的对话

4. **选择用户进行对话**
   - 点击左侧任意用户会话
   - 右侧会显示该用户的所有消息
   - 会话项会高亮显示（蓝色背景）

5. **查看消息历史**
   - 所有消息按时间顺序显示
   - 系统消息（灰色，居中）
   - 用户消息（左侧，白色气泡）
   - 管理员消息（右侧，蓝紫色气泡）

6. **回复用户消息**
   - 在底部输入框中输入回复
   - 点击"发送"按钮或按Enter键
   - 消息立即发送给用户

7. **结束对话**
   - 点击"结束对话"按钮
   - 确认后会向用户发送系统消息
   - 对话状态更新为已结束

8. **管理多个用户**
   - 可以同时查看多个用户的会话
   - 在不同用户之间快速切换
   - 每个用户的对话独立保存
   - 支持随时查看历史记录

---

## 常见问题

### 用户端

**Q1: 提交反馈后能看到状态吗？**
A: 目前提交后会显示成功提示。如需查看状态，请联系管理员。

**Q2: 联系管理员能立即得到回复吗？**
A: 这取决于管理员是否在线。消息会保存，管理员上线后会看到并回复。

**Q3: 可以发送多条消息吗？**
A: 可以，您可以发送多条消息，管理员会看到所有消息。

**Q4: 历史对话会保留多久？**
A: 所有对话都会永久保存在数据库中，随时可以查看。

**Q5: 我的联系邮箱会被滥用吗？**
A: 邮箱仅用于管理员回复反馈，不会用于其他目的。

### 管理员端

**Q1: 如何快速找到待处理的反馈？**
A: 使用状态筛选，选择"反馈中"即可查看所有待处理反馈。

**Q2: 反馈状态有什么区别？**
A: 
- **反馈中**：新提交或正在处理的反馈
- **已完成**：已处理完成的反馈

**Q3: 必须要回复才能更新状态吗？**
A: 不需要，回复内容是可选的，可以只更新状态。

**Q4: 如何知道哪些用户正在等待回复？**
A: 在用户联系管理中，查看"进行中"的会话列表。

**Q5: 可以同时和多个用户聊天吗？**
A: 界面上同时只能显示一个对话，但可以快速切换到其他用户。

**Q6: 如何处理大量反馈？**
A: 
- 使用筛选和搜索功能快速定位
- 优先处理"反馈中"状态的
- 使用关键词搜索相关反馈

---

## 技术支持

如有其他问题或需要技术支持，请：
1. 提交问题反馈
2. 使用"联系我们"功能直接咨询
3. 联系系统管理员

感谢您使用本系统！
