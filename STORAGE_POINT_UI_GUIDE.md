# 暂存点管理功能 - UI 视觉指南

## 功能概览

本文档展示了新增的两个功能在用户界面上的呈现方式。

---

## 1. 联系运输人员按钮

### 位置
- **页面**: 回收员端 -> 暂存点管理
- **位置**: 统计概览（总重量、总价值等卡片）下方

### 外观特征
```
┌────────────────────────────────────────────────────────┐
│  📊 统计概览                                            │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐             │
│  │ 类别数   │  │ 总重量   │  │ 总价值   │             │
│  │   5      │  │ 48.50 kg │  │ 245.00元 │             │
│  └──────────┘  └──────────┘  └──────────┘             │
│                                                         │
│  ┌─────────────────────────────────────┐              │
│  │  📞 联系运输人员                     │  <- 新增按钮 │
│  └─────────────────────────────────────┘              │
│                                                         │
└────────────────────────────────────────────────────────┘
```

### 按钮样式
- **颜色**: 渐变紫色（#667eea -> #764ba2）
- **形状**: 圆角矩形（border-radius: 25px）
- **图标**: 电话图标 (glyphicon-phone)
- **文字**: "联系运输人员"
- **悬停效果**: 向上浮动 2px，阴影加深

---

## 2. 运输人员模态框

### 触发方式
点击"联系运输人员"按钮后弹出

### 模态框布局
```
┌─────────────────────────────────────────────────────────────┐
│                         遮罩层 (半透明黑色)                   │
│                                                               │
│    ┌───────────────────────────────────────────────────┐    │
│    │ 👤 可用运输人员                            ✕      │    │
│    ├───────────────────────────────────────────────────┤    │
│    │                                                   │    │
│    │  ┌─────────────────────────────────────────┐    │    │
│    │  │ 张三                     ⭐⭐⭐⭐☆ 4.5    │    │    │
│    │  │                                         │    │    │
│    │  │ 📞 13800138000      📍 东城区           │    │    │
│    │  │ 🚗 京A12345         🚙 货车 (1000 kg)   │    │    │
│    │  │                                         │    │    │
│    │  │  ┌────────────────────────────┐        │    │    │
│    │  │  │  📞 拨打电话                │        │    │    │
│    │  │  └────────────────────────────┘        │    │    │
│    │  └─────────────────────────────────────────┘    │    │
│    │                                                   │    │
│    │  ┌─────────────────────────────────────────┐    │    │
│    │  │ 李四                     ⭐⭐⭐⭐⭐ 4.8    │    │    │
│    │  │                                         │    │    │
│    │  │ 📞 13900139000      📍 东城区           │    │    │
│    │  │ 🚗 京B67890         🚙 面包车 (500 kg)  │    │    │
│    │  │                                         │    │    │
│    │  │  ┌────────────────────────────┐        │    │    │
│    │  │  │  📞 拨打电话                │        │    │    │
│    │  │  └────────────────────────────┘        │    │    │
│    │  └─────────────────────────────────────────┘    │    │
│    │                                                   │    │
│    └───────────────────────────────────────────────────┘    │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### 运输人员卡片说明

#### 卡片元素
1. **顶部**: 
   - 左侧: 运输人员姓名（大字体、粗体）
   - 右侧: 星级评分（1-5星）+ 评分数值

2. **信息区域**（2x2 网格）:
   - 电话号码 📞
   - 所在区域 📍
   - 车牌号码 🚗
   - 车辆信息 🚙

3. **底部**:
   - "拨打电话"按钮（绿色，全宽）

#### 卡片交互
- 鼠标悬停时向右移动 5px
- 点击"拨打电话"弹出确认对话框
- 确认后调用系统拨号功能

### 无运输人员状态
```
┌───────────────────────────────────────────────────┐
│ 👤 可用运输人员                            ✕      │
├───────────────────────────────────────────────────┤
│                                                   │
│                      👤                           │
│                                                   │
│              暂无可用的运输人员                   │
│                                                   │
│          当前区域没有可用的运输人员               │
│                                                   │
└───────────────────────────────────────────────────┘
```

---

## 3. 重量预警提示

### 位置
- **页面**: 回收员端 -> 暂存点管理
- **位置**: 页面右上角（固定定位）

### 预警级别

#### 级别 1: 接近预警值 (45-49.99 kg)
```
页面右上角：
┌────────────────────────────────────────────────────┐
│ ⚠️ 提示：暂存点总重量已达到 48.50 kg，             │
│    接近50kg预警值！建议及时联系运输人员。          │
└────────────────────────────────────────────────────┘
```

**样式特征**:
- **背景色**: 渐变橙色 (#ff9800 -> #ff5722)
- **文字颜色**: 白色
- **动画**: 从右侧滑入 + 轻微脉冲效果
- **图标**: ⚠️ 警告标志

#### 级别 2: 超过预警值 (≥50 kg)
```
页面右上角：
┌────────────────────────────────────────────────────┐
│ ⚠️ 警告：暂存点总重量已达到 52.30 kg，             │
│    已超过预警值！建议立即联系运输人员。            │
└────────────────────────────────────────────────────┘
```

**样式特征**:
- **背景色**: 渐变红橙色（更醒目）
- **文字颜色**: 白色、加粗
- **动画**: 从右侧滑入 + 明显的脉冲效果（持续）
- **图标**: ⚠️ 警告标志（更大）
- **文字**: "警告"而非"提示"，"立即"而非"及时"

### 预警持续时间
- 预警提示会一直显示，不会自动消失
- 当总重量降到 45kg 以下时自动隐藏
- 刷新页面后根据当前重量重新计算是否显示

---

## 4. 完整页面布局示例

### 正常状态（重量 < 45kg）
```
┌────────────────────────────────────────────────────────────┐
│  🏢 暂存点管理                                              │
│  管理您的回收物品库存 - 区域：东城区                        │
├────────────────────────────────────────────────────────────┤
│                                                              │
│  📊 统计概览                                                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                 │
│  │ 类别数   │  │ 总重量   │  │ 总价值   │                 │
│  │   5      │  │ 38.20 kg │  │ 192.00元 │                 │
│  └──────────┘  └──────────┘  └──────────┘                 │
│                                                              │
│  ┌─────────────────────────────────────┐                   │
│  │  📞 联系运输人员                     │                   │
│  └─────────────────────────────────────┘                   │
│                                                              │
│  📦 按类别统计                                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                 │
│  │ 废纸     │  │ 塑料瓶   │  │ 金属     │                 │
│  │ 15.50 kg │  │ 8.30 kg  │  │ 12.40 kg │                 │
│  │ ¥62.00   │  │ ¥24.90   │  │ ¥99.20   │                 │
│  └──────────┘  └──────────┘  └──────────┘                 │
│                                                              │
└────────────────────────────────────────────────────────────┘
```

### 预警状态（重量 >= 45kg）
```
                                        ┌────────────────────┐
                                        │ ⚠️ 警告：暂存点总  │
                                        │ 重量已达到 52.30 kg│
                                        │ 已超过预警值！     │
                                        │ 建议立即联系运输   │
                                        │ 人员。             │
                                        └────────────────────┘
┌────────────────────────────────────────────────────────────┐
│  🏢 暂存点管理                                              │
│  管理您的回收物品库存 - 区域：东城区                        │
├────────────────────────────────────────────────────────────┤
│                                                              │
│  📊 统计概览                                                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                 │
│  │ 类别数   │  │ 总重量   │  │ 总价值   │                 │
│  │   8      │  │ 52.30 kg │  │ 264.50元 │  <- 红色显示    │
│  └──────────┘  └──────────┘  └──────────┘                 │
│                                                              │
│  ┌─────────────────────────────────────┐                   │
│  │  📞 联系运输人员                     │  <- 建议点击     │
│  └─────────────────────────────────────┘                   │
│                                                              │
│  📦 按类别统计                                              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐  │
│  │ 废纸     │  │ 塑料瓶   │  │ 金属     │  │ 玻璃     │  │
│  │ 18.50 kg │  │ 12.30 kg │  │ 15.40 kg │  │ 6.10 kg  │  │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘  │
│                                                              │
└────────────────────────────────────────────────────────────┘
```

---

## 5. 用户操作流程图

### 流程 1: 联系运输人员
```
[回收员查看暂存点]
        ↓
[发现库存较多]
        ↓
[点击"联系运输人员"按钮]
        ↓
[系统加载同区域运输人员]
        ↓
[显示运输人员列表（按评分排序）]
        ↓
[回收员选择合适的运输人员]
        ↓
[点击"拨打电话"按钮]
        ↓
[确认对话框]
        ↓
[系统调用拨号功能]
        ↓
[回收员与运输人员通话]
```

### 流程 2: 重量预警响应
```
[系统加载暂存点数据]
        ↓
[计算总重量]
        ↓
     < 45kg? >
    /         \
  是           否
   ↓           ↓
[正常显示]  [检查是否 >= 50kg]
              /              \
           是                否
            ↓                ↓
     [显示红色警告]    [显示橙色提示]
            ↓                ↓
         [建议立即联系]  [建议及时联系]
                ↓
         [回收员点击"联系运输人员"]
                ↓
         [按照流程1操作]
```

---

## 6. 响应式设计

### 桌面端 (>= 1200px)
- 模态框宽度: 700px
- 运输人员卡片: 单列显示
- 预警提示: 右上角固定，最大宽度 400px

### 平板端 (768px - 1199px)
- 模态框宽度: 90%
- 运输人员卡片: 单列显示
- 预警提示: 右上角固定，宽度自适应

### 手机端 (< 768px)
- 模态框宽度: 90%
- 运输人员卡片: 单列显示，减小内边距
- 信息网格: 保持 2x2 布局但调整字体大小
- 预警提示: 顶部固定，宽度 90%

---

## 7. 颜色方案

### 主要颜色
- **按钮渐变**: `#667eea` → `#764ba2` (紫色)
- **警告渐变**: `#ff9800` → `#ff5722` (橙红色)
- **成功按钮**: `#4CAF50` (绿色)
- **卡片边框**: `#667eea` (左侧强调色)
- **评分颜色**: `#ff9800` (橙色星星)

### 中性颜色
- **文字主色**: `#333` (深灰)
- **文字辅色**: `#666` (中灰)
- **文字浅色**: `#999` (浅灰)
- **背景色**: `#f8f9fa` (浅灰背景)
- **边框色**: `#dee2e6` (边框)

---

## 8. 动画效果

### slideIn (滑入动画)
- **用于**: 预警提示
- **时长**: 0.3s
- **效果**: 从右侧 400px 外滑入

### pulse (脉冲动画)
- **用于**: 超过 50kg 的警告提示
- **时长**: 2s 循环
- **效果**: 阴影大小周期性变化

### fadeIn (淡入动画)
- **用于**: 模态框遮罩层
- **时长**: 0.3s
- **效果**: 透明度从 0 到 1

### slideUp (向上滑动)
- **用于**: 模态框内容
- **时长**: 0.3s
- **效果**: 从下方滑入并淡入

### hover effects (悬停效果)
- **按钮**: 向上移动 2px + 阴影加深
- **卡片**: 向右移动 5px + 阴影加深

---

## 9. 可访问性

### 键盘导航
- Tab 键可遍历所有交互元素
- Enter 键可激活按钮
- Esc 键可关闭模态框

### 屏幕阅读器
- 所有图标都有对应的文字说明
- ARIA 标签正确设置
- 语义化 HTML 结构

### 颜色对比度
- 文字与背景对比度 >= 4.5:1
- 警告颜色足够醒目
- 按钮状态明确

---

## 10. 浏览器兼容性

### 支持的浏览器
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 移动浏览器
- iOS Safari 14+
- Chrome for Android 90+
- 微信内置浏览器

### 已知限制
- `tel:` 协议在桌面浏览器上可能不工作
- 部分老旧浏览器可能不支持 CSS 渐变和动画

---

这份视觉指南详细描述了新功能的 UI 设计和用户交互方式。实际效果会根据浏览器和设备有所差异，但整体布局和功能保持一致。
