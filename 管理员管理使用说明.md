# 管理员管理功能使用说明

## 快速开始

### 访问管理员管理页面
1. 使用超级管理员账号登录系统
2. 在左侧导航菜单中点击"管理员管理"
3. 或直接访问地址：`http://your-domain/Staff/AdminManagement`

## 主要功能

### 1. 查看管理员列表
- 页面顶部显示三个统计卡片：
  - 总管理员数
  - 激活管理员数  
  - 本月新增管理员数
- 下方表格显示管理员详细信息
- 支持每页显示 20 条记录
- 自动分页，可以通过底部翻页按钮浏览

### 2. 搜索管理员
- 在搜索框中输入用户名或姓名
- 选择状态筛选（全部/激活/禁用）
- 点击"搜索"按钮
- 搜索结果实时更新

### 3. 添加管理员
1. 点击右上角"添加管理员"按钮
2. 在弹出的对话框中填写：
   - 用户名（必填）
   - 密码（必填）
   - 姓名（必填）
   - 激活状态（默认勾选）
3. 点击"保存"按钮
4. 系统会自动加密密码并保存

### 4. 编辑管理员
1. 在管理员列表中找到要编辑的管理员
2. 点击该行的"编辑"按钮
3. 在弹出的对话框中修改信息
4. 注意：编辑时不能修改密码
5. 点击"保存"按钮完成修改

### 5. 删除管理员
1. 在管理员列表中找到要删除的管理员
2. 点击该行的"删除"按钮
3. 在确认对话框中点击"确定"
4. 系统会检查是否有关联数据
5. 如果有关联数据，建议使用"禁用"功能而不是删除

### 6. 导出管理员数据
1. 可以先使用搜索和筛选功能过滤数据
2. 点击"导出数据"按钮
3. 系统会生成 Excel 文件并自动下载
4. 文件名格式：`管理员数据_时间戳.xlsx`

## 导出的 Excel 文件内容

导出的文件包含以下列：
- 管理员ID
- 用户名
- 姓名
- 创建日期
- 最后登录日期
- 账号状态

文件特点：
- 表头有灰色背景和粗体字
- 列宽自动适应内容
- 日期格式：`YYYY-MM-DD HH:MM:SS`

## 用户管理和回收员管理的导出功能

### 用户管理导出
1. 进入"用户管理"页面
2. 可以先搜索筛选
3. 点击"导出数据"按钮
4. 下载文件：`用户数据_时间戳.xlsx`

导出内容包括：
- 用户ID
- 用户名
- 邮箱
- 手机号
- 注册日期
- 最后登录日期
- 状态（活跃/不活跃）

### 回收员管理导出
1. 进入"回收员管理"页面
2. 可以先搜索筛选
3. 点击"导出数据"按钮
4. 下载文件：`回收员数据_时间戳.xlsx`

导出内容包括：
- 回收员ID
- 用户名
- 姓名
- 手机号
- 区域
- 评分
- 完成订单数
- 是否可接单
- 账号状态
- 注册日期

## 注意事项

### 安全提示
1. 只有超级管理员可以管理管理员账户
2. 普通管理员只能管理用户和回收员
3. 密码会自动加密，无法查看原始密码
4. 建议定期导出数据备份

### 删除限制
- 如果管理员有关联的操作记录，无法直接删除
- 建议使用"禁用"功能而不是删除
- 禁用后该管理员将无法登录系统

### 搜索技巧
- 搜索框支持模糊匹配
- 可以搜索用户名或姓名的部分内容
- 搜索结果会保持当前的筛选条件

### 导出注意
- 导出会包含当前搜索和筛选的结果
- 如果没有筛选，会导出所有数据
- Excel 文件使用 UTF-8 编码，支持中文

## 常见问题

### Q: 忘记管理员密码怎么办？
A: 可以通过编辑功能修改其他信息，但密码需要通过数据库直接修改或重新添加账户。

### Q: 为什么删除管理员失败？
A: 可能该管理员有关联的操作记录。建议使用"禁用"功能，取消"激活状态"勾选。

### Q: 导出的 Excel 文件在哪里？
A: 文件会自动下载到浏览器的默认下载文件夹。

### Q: 可以批量删除管理员吗？
A: 当前版本不支持批量操作，需要逐个删除或禁用。

### Q: 管理员和超级管理员有什么区别？
A: 
- 超级管理员：可以管理管理员、用户、回收员、订单、首页内容等
- 普通管理员：可以管理用户、回收员、订单、首页内容

## 技术支持

如遇到问题，请查看：
1. 系统日志文件
2. 浏览器控制台错误信息
3. 项目文档 `ADMIN_MANAGEMENT_IMPLEMENTATION.md`

## 更新日志

### v1.0.0 (2025-01-07)
- ✅ 新增管理员管理功能
- ✅ 支持查询、添加、编辑、删除
- ✅ 支持导出到 Excel
- ✅ 增强导出功能的安全性
- ✅ 完善代码文档
